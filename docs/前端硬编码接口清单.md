# 前端硬编码接口清单与后端实现方案

> 文档版本: v1.0  
> 更新日期: 2026-01-26  
> 目的: 整理前端硬编码问题，提出后端接口设计方案

---

## 目录

1. [概述](#概述)
2. [优先级说明](#优先级说明)
3. [状态枚举与字典接口](#一状态枚举与字典接口)
4. [页面配置接口](#二页面配置接口)
5. [现有接口字段补充](#三现有接口字段补充)
6. [API路径规范化](#四api路径规范化)
7. [实施建议](#五实施建议)

---

## 概述

本文档整理了前端项目中存在的硬编码问题，并提出相应的后端接口设计方案。主要目标：

- **统一状态文本返回**: 减少前端硬编码状态判断逻辑
- **配置接口化**: 支持运营动态调整页面配置
- **字段标准化**: 统一时间格式、状态文本等字段命名
- **提高可维护性**: 降低前后端耦合度

---

## 优先级说明

| 优先级 | 说明 | 建议时间 |
|--------|------|----------|
| P0 | 核心功能，影响用户体验 | 立即处理 |
| P1 | 重要功能，提升系统规范性 | 1-2周内 |
| P2 | 优化项，长期改进 | 按计划迭代 |

---

## 一、状态枚举与字典接口

### 1.1 问题描述

前端 `src/constants/statusEnums.ts` 中硬编码了大量状态枚举和中文映射：

```typescript
// 当前硬编码示例
export const ConsignmentStatusText: Record<number, string> = {
  0: '下架',
  1: '上架',
  2: '已售出',
  3: '取消',
};

export const OrderStatusText: Record<number, string> = {
  0: '待支付',
  1: '已支付',
  2: '已发货',
  3: '已完成',
  4: '已取消',
};
```

**涉及文件**:
- `src/constants/statusEnums.ts`
- `src/constants/balanceTypes.ts`
- `src/pages/wallet/components/collection/CollectionItem.tsx`
- `src/pages/market/OrderListPage.tsx`
- `src/pages/market/CollectionOrderDetail.tsx`

### 1.2 期望接口

#### 接口: `GET /api/common/dict`

**优先级**: P1

**请求参数**:
```typescript
interface DictRequest {
  types?: string[];  // 可选，指定获取的字典类型，不传则返回全部
}
```

**响应结构**:
```typescript
interface DictResponse {
  code: number;
  msg: string;
  data: {
    // 寄售状态
    consignment_status: DictItem[];
    // 订单状态
    order_status: DictItem[];
    // 支付状态
    pay_status: DictItem[];
    // 发货状态
    shipping_status: DictItem[];
    // 实名认证状态
    realname_status: DictItem[];
    // 提现状态
    withdraw_status: DictItem[];
    // 充值状态
    recharge_status: DictItem[];
    // 申购状态
    reservation_status: DictItem[];
    // 确权申报状态
    rights_declaration_status: DictItem[];
    // 问卷状态
    questionnaire_status: DictItem[];
    // 余额类型
    balance_types: DictItem[];
    // 收益类型
    income_types: DictItem[];
  };
}

interface DictItem {
  value: number | string;  // 状态值
  label: string;           // 显示文本
  color?: string;          // 可选：状态颜色 (如: #FF0000 或 red)
  icon?: string;           // 可选：图标名称
  description?: string;    // 可选：状态描述
}
```

**响应示例**:
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "consignment_status": [
      { "value": 0, "label": "下架", "color": "#999999" },
      { "value": 1, "label": "上架", "color": "#52c41a" },
      { "value": 2, "label": "已售出", "color": "#1890ff" },
      { "value": 3, "label": "取消", "color": "#ff4d4f" }
    ],
    "order_status": [
      { "value": 0, "label": "待支付", "color": "#faad14", "icon": "clock" },
      { "value": 1, "label": "已支付", "color": "#52c41a", "icon": "check" },
      { "value": 2, "label": "已发货", "color": "#1890ff", "icon": "truck" },
      { "value": 3, "label": "已完成", "color": "#52c41a", "icon": "check-circle" },
      { "value": 4, "label": "已取消", "color": "#999999", "icon": "close" }
    ],
    "balance_types": [
      { "value": "special_fund", "label": "供应链专项金" },
      { "value": "withdrawable", "label": "可调度收益" },
      { "value": "score", "label": "消费金" },
      { "value": "rights_fund", "label": "确权金" },
      { "value": "green_power", "label": "绿色算力" }
    ],
    "income_types": [
      { "value": "consignment", "label": "寄售收益" },
      { "value": "mining", "label": "矿机分红" },
      { "value": "referral", "label": "好友分润" },
      { "value": "signin", "label": "签到奖励" },
      { "value": "register", "label": "注册奖励" },
      { "value": "other", "label": "其他收益" }
    ]
  }
}
```

### 1.3 后端实现建议

1. **数据库表设计**:
```sql
CREATE TABLE `sys_dict` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `type` varchar(50) NOT NULL COMMENT '字典类型',
  `value` varchar(50) NOT NULL COMMENT '字典值',
  `label` varchar(100) NOT NULL COMMENT '显示文本',
  `color` varchar(20) DEFAULT NULL COMMENT '颜色',
  `icon` varchar(50) DEFAULT NULL COMMENT '图标',
  `description` varchar(255) DEFAULT NULL COMMENT '描述',
  `sort` int(11) DEFAULT 0 COMMENT '排序',
  `status` tinyint(1) DEFAULT 1 COMMENT '状态 1启用 0禁用',
  `create_time` int(11) DEFAULT NULL,
  `update_time` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_type` (`type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='系统字典表';
```

2. **缓存策略**: 字典数据变化频率低，建议使用 Redis 缓存，TTL 设置为 1 小时或更长。

3. **前端使用**: 应用启动时调用一次，存入本地状态管理（如 Zustand）。

---

## 二、页面配置接口

### 2.1 首页配置

#### 问题描述

`src/pages/cms/Home.tsx` 中硬编码了快捷入口配置：

```typescript
// 当前硬编码
const quickActions = [
  { label: '专项金申购', icon: Wallet, color: 'text-red-600', bgColor: 'bg-red-50', action: () => handleNavigate('balance-recharge') },
  { label: '收益提现', icon: Vault, color: 'text-red-600', bgColor: 'bg-red-50', action: () => handleNavigate('balance-withdraw') },
  { label: '算力补充', icon: Zap, color: 'text-red-600', bgColor: 'bg-red-50', action: () => handleNavigate('hashrate-exchange') },
  { label: '确权申报', icon: FileBadge, color: 'text-red-600', bgColor: 'bg-red-50', action: () => handleNavigate('cumulative-rights') },
];
```

#### 期望接口: `GET /api/cms/home-config`

**优先级**: P1

**响应结构**:
```typescript
interface HomeConfigResponse {
  code: number;
  msg: string;
  data: {
    // 快捷入口配置
    quick_actions: QuickAction[];
    // 交易专区卡片配置
    trading_zone_card: {
      title: string;           // 标题 (如: 交易专区)
      subtitle: string;        // 副标题 (如: 数据资产确权交易)
      bg_image_url?: string;   // 背景图URL
      route_path: string;      // 跳转路径
      is_visible: boolean;     // 是否显示
    };
    // 申购记录区块配置
    subscription_section: {
      title: string;           // 标题 (如: 申购记录)
      show_count: number;      // 首页显示条数
      is_visible: boolean;
    };
  };
}

interface QuickAction {
  id: string;
  title: string;              // 标题
  icon_url: string;           // 图标URL
  icon_name?: string;         // 图标名称 (备选，用于 lucide 图标)
  route_path: string;         // 跳转路径
  bg_color: string;           // 背景色
  text_color: string;         // 文字色
  sort_order: number;         // 排序
  is_visible: boolean;        // 是否显示
  badge_text?: string;        // 角标文本 (如: "新")
}
```

**响应示例**:
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "quick_actions": [
      {
        "id": "balance-recharge",
        "title": "专项金申购",
        "icon_url": "https://cdn.example.com/icons/wallet.png",
        "icon_name": "Wallet",
        "route_path": "/balance-recharge",
        "bg_color": "#FEF2F2",
        "text_color": "#DC2626",
        "sort_order": 1,
        "is_visible": true
      },
      {
        "id": "balance-withdraw",
        "title": "收益提现",
        "icon_url": "https://cdn.example.com/icons/vault.png",
        "icon_name": "Vault",
        "route_path": "/balance-withdraw",
        "bg_color": "#FEF2F2",
        "text_color": "#DC2626",
        "sort_order": 2,
        "is_visible": true
      }
    ],
    "trading_zone_card": {
      "title": "交易专区",
      "subtitle": "数据资产确权交易",
      "route_path": "/trading-zone",
      "is_visible": true
    },
    "subscription_section": {
      "title": "申购记录",
      "show_count": 3,
      "is_visible": true
    }
  }
}
```

---

### 2.2 交易专区资产池配置

#### 问题描述

`src/pages/market/utils/poolConfig.ts` 中硬编码了资产池主题配置：

```typescript
// 当前硬编码
export const POOL_THEME_PRESETS: Record<string, any> = {
  morning: {
    code: 'Pool-A',
    name: '数字鲁商资产池',
    subName: '山东产业带数字化营销权益',
    roi: '+5.5%',
    quota: '100万',
    // ... 主题色配置
  },
  afternoon: {
    code: 'Pool-B',
    name: '助农供应链资产池',
    subName: '优质果蔬集群应收账款确权',
    roi: '+8.2%',
    quota: '500万',
  },
  // ...
};
```

#### 期望接口: 扩展现有场次接口

**优先级**: P0

在现有的交易场次接口响应中新增以下字段：

```typescript
interface TradingSession {
  id: number;
  title: string;
  startTime: string;
  endTime: string;
  
  // ===== 新增字段 =====
  code?: string;              // 资产池编号 (如: Pool-A)
  sub_name?: string;          // 副标题 (如: 山东产业带数字化营销权益)
  roi_text?: string;          // 收益率文本 (如: +5.5%)
  quota_text?: string;        // 额度文本 (如: 100万)
  theme_config?: {
    color_class: string;      // 主题色类名 (如: text-blue-600)
    bg_gradient: string;      // 背景渐变 (如: from-blue-600 to-cyan-500)
    soft_bg: string;          // 柔和背景 (如: bg-blue-50)
    data_bg: string;          // 数据区背景 (如: bg-[#F0F7FF])
    icon_url?: string;        // 图标URL
  };
}
```

---

### 2.3 市场页面配置

#### 问题描述

`src/pages/market/Market.tsx` 中硬编码了筛选Tab和分类图标映射：

```typescript
// 当前硬编码
const filters = [
  { id: 'comprehensive', label: '综合' },
  { id: 'price', label: '价格' },
  { id: 'sales', label: '销量' },
  { id: 'new', label: '最新' }
];
```

#### 期望接口: `GET /api/shop/config`

**优先级**: P2

**响应结构**:
```typescript
interface ShopConfigResponse {
  code: number;
  msg: string;
  data: {
    // 筛选Tab配置
    filter_tabs: FilterTab[];
    // 分类配置 (补充现有分类接口)
    category_icons: CategoryIcon[];
    // 页面配置
    page_config: {
      page_size: number;        // 每页条数
      show_top_badge: boolean;  // 是否显示Top标签
      top_badge_count: number;  // Top标签数量
    };
  };
}

interface FilterTab {
  id: string;
  label: string;
  type: 'sort' | 'filter';
  sort_key?: string;           // 排序字段
  default_order?: 'asc' | 'desc';
}

interface CategoryIcon {
  category_name: string;
  icon_url: string;
}
```

---

### 2.4 订单列表Tab配置

#### 问题描述

`src/pages/market/OrderListPage.tsx` 中硬编码了订单分类和状态Tab：

```typescript
// 当前硬编码
const ORDER_CATEGORIES = {
  '藏品订单': ['买入订单', '卖出订单'],
  '交易订单': ['待寄售', '寄售中', '寄售失败'],
  '提货订单': ['待发货', '待收货', '已签收'],
  '消费金订单': ['待付款', '待发货', '待收货', '已完成'],
};
```

#### 期望接口: `GET /api/order/categories`

**优先级**: P1

**响应结构**:
```typescript
interface OrderCategoriesResponse {
  code: number;
  msg: string;
  data: {
    categories: OrderCategory[];
  };
}

interface OrderCategory {
  id: string;
  name: string;               // 分类名称 (如: 藏品订单)
  route_path: string;         // 路由路径
  tabs: OrderTab[];
  sort_order: number;
}

interface OrderTab {
  id: string;
  label: string;              // Tab名称 (如: 买入订单)
  status_filter?: number[];   // 对应的状态值
  is_default?: boolean;       // 是否默认选中
}
```

---

### 2.5 算力兑换配置

#### 问题描述

`src/pages/wallet/HashrateExchange.tsx` 中硬编码了兑换比例和快捷金额：

```typescript
// 当前硬编码
const STANDARD_RATE = 5;      // 标准价：5消费金=1算力
const SUBSIDIZED_RATE = 2;    // 补贴价：2消费金=1算力
const quickAmounts = [10, 50, 100, 500];
```

#### 期望接口: `GET /api/score/exchange-config`

**优先级**: P1

**响应结构**:
```typescript
interface ExchangeConfigResponse {
  code: number;
  msg: string;
  data: {
    standard_rate: number;        // 标准兑换比例
    subsidized_rate: number;      // 补贴兑换比例
    quick_amounts: number[];      // 快捷金额选项
    min_amount: number;           // 最小兑换金额
    max_amount: number;           // 最大兑换金额
    daily_limit?: number;         // 每日限额
    tips: string[];               // 提示文案
  };
}
```

**响应示例**:
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "standard_rate": 5,
    "subsidized_rate": 2,
    "quick_amounts": [10, 50, 100, 500],
    "min_amount": 1,
    "max_amount": 10000,
    "daily_limit": 1000,
    "tips": [
      "兑换后的绿色算力可用于申购数据资产",
      "算力不可转让、不可提现"
    ]
  }
}
```

---

### 2.6 资产页面标签配置

#### 问题描述

`src/pages/wallet/CumulativeRights.tsx` 和 `src/pages/user/Profile.tsx` 中硬编码了余额类型标签：

```typescript
// 当前硬编码
const balanceLabels = {
  total: '总资产',
  special_fund: '专项金(可用)',
  withdrawable: '可提现余额',
  score: '消费金',
  rights_fund: '确权金',
  green_power: '绿色算力',
};
```

#### 期望接口: 扩展用户信息接口

**优先级**: P1

在 `/api/User/profile` 或 `/api/Account/accountOverview` 响应中新增：

```typescript
interface AccountOverviewResponse {
  code: number;
  msg: string;
  data: {
    // 现有字段...
    
    // ===== 新增字段 =====
    balance_labels: Record<string, string>;   // 余额类型标签
    income_labels: Record<string, string>;    // 收益类型标签
    collection_labels: Record<string, string>;// 藏品统计标签
    descriptions: {
      fund_description: string;               // 资金说明文案
      withdrawal_tips: string[];              // 提现提示
    };
  };
}
```

---

## 三、现有接口字段补充

### 3.1 统一返回 `status_text` 字段

**优先级**: P0

以下接口需要统一返回 `status_text` 字段，减少前端状态映射：

| 接口 | 说明 |
|------|------|
| `/api/Order/list` | 订单列表 |
| `/api/Order/detail` | 订单详情 |
| `/api/Collection/myList` | 我的藏品列表 |
| `/api/Collection/detail` | 藏品详情 |
| `/api/Consignment/list` | 寄售列表 |
| `/api/Wallet/withdrawList` | 提现列表 |
| `/api/Wallet/rechargeList` | 充值列表 |
| `/api/Reservation/list` | 申购记录列表 |
| `/api/RightsDeclaration/list` | 确权申报列表 |
| `/api/Questionnaire/myList` | 问卷列表 |

**新增字段格式**:
```typescript
{
  status: number;           // 状态值 (保留)
  status_text: string;      // 状态文本 (新增)
  status_color?: string;    // 状态颜色 (可选)
}
```

---

### 3.2 时间格式化字段

**优先级**: P1

建议所有时间戳字段同时返回格式化后的字符串：

```typescript
{
  create_time: number;           // 时间戳
  create_time_text: string;      // 格式化文本 (如: 2026-01-26 14:30:00)
  
  pay_time: number;
  pay_time_text: string;
  
  update_time: number;
  update_time_text: string;
}
```

---

### 3.3 藏品接口字段补充

**优先级**: P0

#### 接口: `/api/Collection/myList` (我的藏品列表)

**新增字段**:
```typescript
interface MyCollectionItem {
  // 现有字段...
  
  // ===== 新增/确保返回 =====
  status_text: string;              // 状态文本 (如: 持有中、寄售中、已售出)
  price_zone_text: string;          // 价格分区文本 (如: A区、B区)
  consignment_status_text?: string; // 寄售状态文本
  session_title?: string;           // 场次名称
  appreciation_rate?: number;       // 增值率
}
```

---

### 3.4 订单接口字段补充

**优先级**: P0

#### 接口: `/api/Order/detail` (订单详情)

**新增字段**:
```typescript
interface OrderDetail {
  // 现有字段...
  
  // ===== 新增/确保返回 =====
  status_text: string;              // 订单状态文本
  pay_type_text: string;            // 支付方式文本 (如: 余额支付、消费金支付)
  shipping_status_text?: string;    // 发货状态文本
  
  // 时间格式化
  create_time_text: string;
  pay_time_text?: string;
  ship_time_text?: string;
  complete_time_text?: string;
  
  // 订单进度配置
  order_steps?: OrderStep[];
}

interface OrderStep {
  key: string;
  label: string;
  time?: string;
  is_completed: boolean;
  is_current: boolean;
}
```

---

### 3.5 商品接口字段补充

**优先级**: P1

#### 接口: `/api/Shop/productList` (商品列表)

**新增字段**:
```typescript
interface ShopProductItem {
  // 现有字段...
  
  // ===== 新增 =====
  artist_name?: string;       // 艺术家/发行方名称
  tags?: ProductTag[];        // 商品标签
  is_new?: boolean;           // 是否新品
  is_hot?: boolean;           // 是否热销
  rank?: number;              // 排名 (用于Top标签)
}

interface ProductTag {
  text: string;
  color: string;
  bg_color: string;
}
```

---

### 3.6 用户认证接口字段补充

**优先级**: P1

#### 接口: `/api/User/realNameStatus` (实名认证状态)

**新增字段**:
```typescript
interface RealNameStatus {
  // 现有字段...
  
  // ===== 确保返回 =====
  status_text: string;        // 状态文本 (如: 待审核、已认证、审核失败)
  audit_reason?: string;      // 审核原因/拒绝理由
  audit_time?: number;        // 审核时间
  audit_time_text?: string;   // 审核时间文本
}
```

#### 接口: `/api/User/agentReviewStatus` (代理审核状态)

**新增字段**:
```typescript
interface AgentReviewStatus {
  // 现有字段...
  
  // ===== 确保返回 =====
  status_text: string;
  review_reason?: string;
  audit_remark?: string;
}
```

---

### 3.7 钱包接口字段补充

**优先级**: P1

#### 接口: `/api/Wallet/withdrawList` (提现列表)

**新增字段**:
```typescript
interface WithdrawItem {
  // 现有字段...
  
  // ===== 确保返回 =====
  status_text: string;
  audit_time_text?: string;
  pay_time_text?: string;
}
```

#### 接口: `/api/Wallet/rechargeList` (充值列表)

**新增字段**:
```typescript
interface RechargeItem {
  // 现有字段...
  
  // ===== 确保返回 =====
  status_text: string;
  payment_type_text?: string;
  audit_time_text?: string;
}
```

#### 接口: `/api/Wallet/moneyLogDetail` (资金明细详情)

**新增字段**:
```typescript
interface MoneyLogDetail {
  // 现有字段...
  
  // ===== 确保返回 =====
  create_time_text: string;
  field_type?: string;        // 精确字段类型
  title_snapshot?: string;    // 关联商品标题快照
  image_snapshot?: string;    // 关联商品图片快照
}
```

---

### 3.8 支付账户接口字段补充

**优先级**: P2

#### 接口: `/api/Payment/accountList` (支付账户列表)

**新增字段**:
```typescript
interface PaymentAccount {
  // 现有字段...
  
  // ===== 确保返回 =====
  type_text: string;                  // 账户类型文本 (如: 银行卡、支付宝)
  account_number_display?: string;    // 脱敏账号 (如: **** **** **** 1234)
}
```

---

## 四、API路径规范化

### 4.1 问题描述

部分接口路径直接硬编码在服务文件中，未使用统一的 `API_ENDPOINTS` 配置：

| 文件 | 硬编码路径 |
|------|-----------|
| `services/activity.ts` | `/ActivityCenter/index` |
| `services/questionnaire.ts` | `/Questionnaire/submit`, `/Questionnaire/myList` |
| `services/rightsDeclaration.ts` | `/rightsDeclaration/submit`, `/rightsDeclaration/list` 等 |

### 4.2 建议方案

**优先级**: P2

在 `src/services/config.ts` 中统一管理所有 API 路径：

```typescript
export const API_ENDPOINTS = {
  // 用户相关
  USER: {
    LOGIN: '/User/login',
    PROFILE: '/User/profile',
    REAL_NAME_STATUS: '/User/realNameStatus',
    AGENT_REVIEW_STATUS: '/User/agentReviewStatus',
  },
  
  // 订单相关
  ORDER: {
    LIST: '/Order/list',
    DETAIL: '/Order/detail',
    CATEGORIES: '/Order/categories',
  },
  
  // 藏品相关
  COLLECTION: {
    MY_LIST: '/Collection/myList',
    DETAIL: '/Collection/detail',
  },
  
  // 活动相关
  ACTIVITY: {
    LIST: '/ActivityCenter/index',
  },
  
  // 问卷相关
  QUESTIONNAIRE: {
    SUBMIT: '/Questionnaire/submit',
    MY_LIST: '/Questionnaire/myList',
  },
  
  // 确权申报
  RIGHTS_DECLARATION: {
    SUBMIT: '/RightsDeclaration/submit',
    LIST: '/RightsDeclaration/list',
    DETAIL: '/RightsDeclaration/detail',
    CANCEL: '/RightsDeclaration/cancel',
    REVIEW_STATUS: '/RightsDeclaration/reviewStatus',
  },
  
  // 通用
  COMMON: {
    DICT: '/Common/dict',
    UPLOAD: '/Common/upload',
  },
  
  // CMS
  CMS: {
    HOME_CONFIG: '/Cms/homeConfig',
    ANNOUNCEMENTS: '/Cms/announcements',
    BANNERS: '/Cms/banners',
  },
  
  // 商城
  SHOP: {
    CONFIG: '/Shop/config',
    PRODUCT_LIST: '/Shop/productList',
    PRODUCT_DETAIL: '/Shop/productDetail',
  },
  
  // 钱包
  WALLET: {
    OVERVIEW: '/Account/accountOverview',
    WITHDRAW_LIST: '/Wallet/withdrawList',
    RECHARGE_LIST: '/Wallet/rechargeList',
    MONEY_LOG: '/Wallet/moneyLog',
  },
  
  // 算力
  SCORE: {
    EXCHANGE_CONFIG: '/Score/exchangeConfig',
    EXCHANGE: '/Score/exchangeScoreToGreenPower',
  },
};
```

---

## 五、实施建议

### 5.1 实施优先级

| 阶段 | 内容 | 优先级 | 预计工作量 |
|------|------|--------|-----------|
| 第一阶段 | 统一返回 `status_text` 字段 | P0 | 2-3天 |
| 第一阶段 | 交易场次接口补充配置字段 | P0 | 1天 |
| 第二阶段 | 字典接口 `/api/common/dict` | P1 | 2天 |
| 第二阶段 | 首页配置接口 | P1 | 1天 |
| 第二阶段 | 订单分类接口 | P1 | 1天 |
| 第二阶段 | 算力兑换配置接口 | P1 | 0.5天 |
| 第二阶段 | 时间格式化字段 | P1 | 1天 |
| 第三阶段 | 市场配置接口 | P2 | 1天 |
| 第三阶段 | API路径规范化 | P2 | 0.5天 |

### 5.2 前端适配

后端接口完成后，前端需要：

1. **移除硬编码映射**: 删除 `statusEnums.ts` 中的映射，改用接口返回值
2. **更新组件**: 使用 `status_text` 替代状态判断逻辑
3. **配置缓存**: 字典数据和配置数据进行本地缓存
4. **兼容处理**: 新字段做可选处理，保证向后兼容

### 5.3 注意事项

1. **向后兼容**: 新增字段不影响现有逻辑，前端需做空值兼容
2. **性能考虑**: 配置类接口建议缓存，避免重复请求
3. **文案管理**: 状态文案建议支持后台配置，便于运营调整
4. **版本控制**: 接口变更需要版本标记，便于追踪

---

## 附录

### A. 涉及的前端文件清单

```
src/constants/
├── statusEnums.ts          # 状态枚举（需后端字典接口替代）
├── balanceTypes.ts         # 余额类型（需后端配置返回）
└── index.ts                # APP_VERSION（需配置接口）

src/pages/cms/
└── Home.tsx                # 首页快捷入口（需配置接口）

src/pages/market/
├── Market.tsx              # 市场筛选Tab（需配置接口）
├── TradingZone.tsx         # 交易区（需场次扩展字段）
├── OrderListPage.tsx       # 订单Tab配置（需配置接口）
├── CollectionOrderDetail.tsx # 订单详情（需status_text）
└── utils/poolConfig.ts     # 资产池配置（需后端返回）

src/pages/wallet/
├── HashrateExchange.tsx    # 算力兑换（需配置接口）
├── CumulativeRights.tsx    # 确权页（需标签配置）
├── RechargeOrderList.tsx   # 充值列表（需status_text）
├── WithdrawOrderList.tsx   # 提现列表（需status_text）
└── components/collection/
    └── CollectionItem.tsx  # 藏品项（需status_text）

src/pages/user/
└── Profile.tsx             # 个人中心（需标签配置）

src/services/
├── activity.ts             # 硬编码API路径
├── questionnaire.ts        # 硬编码API路径
└── rightsDeclaration.ts    # 硬编码API路径
```

### B. 新增接口清单

| 接口 | 方法 | 说明 | 优先级 |
|------|------|------|--------|
| `/api/common/dict` | GET | 状态字典 | P1 |
| `/api/cms/home-config` | GET | 首页配置 | P1 |
| `/api/shop/config` | GET | 商城配置 | P2 |
| `/api/order/categories` | GET | 订单分类 | P1 |
| `/api/score/exchange-config` | GET | 算力兑换配置 | P1 |

### C. 现有接口字段变更清单

| 接口 | 新增字段 | 优先级 |
|------|---------|--------|
| 所有列表/详情接口 | `status_text` | P0 |
| 所有含时间的接口 | `*_time_text` | P1 |
| 交易场次接口 | `code`, `sub_name`, `roi_text`, `quota_text`, `theme_config` | P0 |
| 用户信息接口 | `balance_labels`, `income_labels` | P1 |
| 商品列表接口 | `tags`, `is_new`, `is_hot`, `rank` | P1 |
